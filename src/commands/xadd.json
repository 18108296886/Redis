{
    "XADD":{
        "summary":"Appends a new entry to a stream",
        "complexity":"O(1) when adding a new entry, O(N) when trimming where N being the number of entries evicted.",
        "since":"5.0.0",
        "group":"stream",
        "arity":-5,
        "command_flags":[
            "write",
            "use-memory",
            "fast",
            "random"
        ],
        "acl_categories":[
            "stream",
            "write",
            "slow"
        ],
        "key_specs":[
            {
                "begin_search":{
                    "index":{
                        "pos":1
                    }
                },
                "find_keys":{
                    "range":{
                        "lastkey":0,
                        "step":1,
                        "limit":0
                    }
                },
                "flags":[
                    "write"
                ]
            }
        ],
        "function":"xaddCommand",
        "returns":[
            {
                "description": "ID of the added entry",
                "type":"bulk-string"
            },
            {
                "description": "Stream doesn't exist and NOMKSTREAN was given",
                "type": {
                    "RESP2":"null-bulk-string",
                    "RESP3":"null"
                }
            }
        ],
        "history":[
            [
                "6.2",
                "Added the `NOMKSTREAM` option, `MINID` trimming strategy and the `LIMIT` option."
            ]
        ],
        "arguments":[
            {
                "name":"key",
                "type":"key",
                "value":"key"
            },
            {
                "name":"trimming",
                "optional":true,
                "type":"block",
                "value":[
                    {
                        "name":"strategy",
                        "optional":false,
                        "type":"oneof",
                        "value":[
                            {
                                "name":"maxlen",
                                "token":"MAXLEN"
                            },
                            {
                                "name":"minid",
                                "since":"6.2.0",
                                "token":"MINID"
                            }
                        ]
                    },
                    {
                        "name":"operator",
                        "optional":true,
                        "type":"oneof",
                        "value":[
                            {
                                "name":"exact",
                                "token":"="
                            },
                            {
                                "name":"inexact",
                                "token":"~"
                            }
                        ]
                    },
                    {
                        "name":"threshold",
                        "type":"integer",
                        "value":"threshold"
                    },
                    {
                        "name":"limit",
                        "optional":true,
                        "since":"6.2.0",
                        "type":"integer",
                        "token":"LIMIT",
                        "value":"limit"
                    }
                ]
            },
            {
                "name":"nomakestream",
                "optional":true,
                "since":"6.2.0",
                "token":"NOMKSTREAM"
            },
            {
                "name":"id",
                "type":"oneof",
                "value":[
                    {
                        "name":"auto",
                        "token":"*"
                    },
                    {
                        "name":"specific",
                        "type": "string",
                        "value":"ID"
                    }
                ]
            },
            {
                "name":"fieldandvalues",
                "type":"block",
                "multiple":true,
                "value":[
                    {
                        "name":"field",
                        "type":"string",
                        "value":"field"
                    },
                    {
                        "name":"value",
                        "type":"string",
                        "value":"value"
                    }
                ]
            }
        ]
    }
}
